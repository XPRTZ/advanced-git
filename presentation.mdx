import { syntaxHighlighter, swiss } from 'mdx-deck/themes'
import {
    Invert,
    Split,
    SplitRight,
    Horizontal,
    FullScreenCode,
    Image
} from 'mdx-deck'
import customTheme from './theme'
import Layout from './components/layout'

export const themes = [syntaxHighlighter, swiss, customTheme]

import hero from './images/hero.jpg'

<Image
  src={hero}
  style={{
    width: '100vw',
    height: '100vh',
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center'
  }}>
</Image>

---

import git from './images/git.svg'
import avatar from './images/avatar.jpg'
import { Image as Avatar } from 'rebass'

<Layout>

<img src={git} />

<Horizontal>

# Advanced git techniques

</Horizontal>

<Split>

<Avatar
  src={avatar}
  sx={{
    width: 200,
    height: 200,
    borderRadius: 9999,
  }}
/>

### Maarten Louage
@maartenlouage

</Split>

</Layout>

---

<Layout>

## Agenda

- Configuration
- .gitattributes
- Submodules
- Hooks
- Bisect

</Layout>

---

<Layout>

## Configuration

Evaluated from the repository up
- local (repository/.git/config)
- global (/home/maarten/.gitconfig)
- system (/etc/git/gitconfig)

Edit a specific level
```
git config --global -e
```

### use case

Edit the local repository if you want to commit with a different username than the one defined on the global level

</Layout>

---

<Layout>

## .gitattributes (1/2)

Normalize the line endings
```
* text=auto
```

Usually the better option then relying on
```
git config --global core.autocrlf true
```

Diffing binary files
```
*.jpg diff=exif
*.jpeg diff=exif
```

```
git config --global diff.exif.textconv exiftool
```

</Layout>

---

<Layout>

## .gitattributes (2/2)

Remove files from export
```
yarn.lock export-ignore
.gitignore export-ignore
.gitattributes export-ignore
```

Default decisions on merge
```
yarn.lock merge=ours
package-lock.json merge=ours
```

</Layout>

---

<Layout>

## Submodules (1/4)

A construct within Git that enables you to keep a separate Git repository as a subdirectory within an existing repository. This effectively keeps two separate repositories linked together within a project.

</Layout>

---

<Layout>

## Submodules (2/4)

If you need to maintain a strict version management over your external dependencies.

- When an external component or subproject is changing too fast or upcoming changes will break the API, you can lock the code to a specific commit.
- When you have a component that isnâ€™t updated very often and you want to track it as a vendor dependency.
- When you are delegating a piece of the project to a third party and you want to integrate their work at a specific time or release.

</Layout>

---

<Layout>

## Submodules (3/4)

### Useful configuration
```
git config --global status.submoduleSummary true
```

```
git config --global push.recursiveSubmodules on-demand
```

</Layout>

---

<Layout>

## Submodules (4/4)

### Sample workflow

```
git pull
git submodule sync --recursive
git submodule update --init --recursive
```

</Layout>

---

<Layout>

## Hooks

</Layout>

---

<Layout>

## Bisect

</Layout>

---
